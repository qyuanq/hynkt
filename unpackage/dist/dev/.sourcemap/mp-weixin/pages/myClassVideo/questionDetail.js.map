{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/Administrator/Desktop/项目开发/project1/pages/myClassVideo/questionDetail.vue?059a","webpack:///C:/Users/Administrator/Desktop/项目开发/project1/pages/myClassVideo/questionDetail.vue?ec01","webpack:///C:/Users/Administrator/Desktop/项目开发/project1/pages/myClassVideo/questionDetail.vue?f80b","webpack:///C:/Users/Administrator/Desktop/项目开发/project1/pages/myClassVideo/questionDetail.vue?71a0","uni-app:///pages/myClassVideo/questionDetail.vue","webpack:///C:/Users/Administrator/Desktop/项目开发/project1/pages/myClassVideo/questionDetail.vue?d432","webpack:///C:/Users/Administrator/Desktop/项目开发/project1/pages/myClassVideo/questionDetail.vue?633f"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,sH;AACAA,UAAU,CAACC,uBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA2H;AAC3H;AACkE;AACL;AACc;;;AAG3E;AACgL;AAChL,gBAAgB,uLAAU;AAC1B,EAAE,oFAAM;AACR,EAAE,yFAAM;AACR,EAAE,kGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,6FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA4qB,CAAgB,0qBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACwBhsB,wE;AACA;AACA;AACA,sBADA;AAEA,oBAFA,EADA;;AAKA,MALA,kBAKA;AACA;AACA,oBADA;AAEA,oBAFA;AAGA,qBAHA;AAIA,8BAJA;AAKA,oCALA;AAMA,iBANA,EAMA;AACA,kBAPA,EAOA;AACA,0BARA,EAQA;AACA,kBATA;AAUA,cAVA;;AAYA,GAlBA;AAmBA;AACA;AACA,UAFA,oBAEA;AACA;AACA;AACA;AACA,2BADA;;AAGA,OAJA,MAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAHA,MAGA;AACA;AACA;AACA;AACA;AACA,oDADA;AAEA,0CAFA;AAGA,gCAHA;AAIA,6CAJA;AAKA;AACA,oDADA;AAEA,iCAFA;AAGA,wBAHA,EALA;;;AAWA;AACA,sDADA;AAEA,wBAFA;AAGA,uBAHA;AAIA;AACA;AACA;AACA,2BADA;;AAGA;AACA,kCADA;AAEA,oCAFA;AAGA,wBAHA;AAIA;AACA,yCADA;AAEA,iDAFA,EAJA;;;AASA;AACA;AACA;AACA;AACA,aAJA,MAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uEADA;;AAGA;AACA;AACA,eARA,MAQA;AACA;AACA;AACA;AACA;AACA;AACA,iBALA,MAKA;AACA;AACA;AACA;AACA;AACA;AACA,WA7CA;;AA+CA;AACA,KA9EA;AA+EA;AACA,aAhFA,qBAgFA,IAhFA,EAgFA,IAhFA,EAgFA,KAhFA,EAgFA;AACA;AACA,sCAFA,CAEA;AACA;AACA;AACA,wCALA,CAKA;AACA;AACA,KAvFA;AAwFA,aAxFA,qBAwFA,KAxFA,EAwFA,IAxFA,EAwFA;AACA;AACA;AACA,KA3FA,EAnBA;;AAgHA;AACA;AACA;AACA;AACA;AACA,4EADA;AAEA,mBAFA;AAGA;AACA;AACA;AACA;AACA,SAHA;;AAKA;AACA,OAVA;;AAYA,GAhIA;AAiIA,QAjIA,oBAiIA;AACA;AACA;AACA;AACA,KAFA;AAGA,GAtIA,E;;;;;;;;;;;;;ACzBA;AAAA;AAAA;AAAA;AAAquC,CAAgB,4pCAAG,EAAC,C;;;;;;;;;;;ACAzvC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/myClassVideo/questionDetail.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/myClassVideo/questionDetail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./questionDetail.vue?vue&type=template&id=5e50a064&\"\nvar renderjs\nimport script from \"./questionDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./questionDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./questionDetail.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/myClassVideo/questionDetail.vue\"\nexport default component.exports","export * from \"-!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./questionDetail.vue?vue&type=template&id=5e50a064&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./questionDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./questionDetail.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\n\t\t<Question :question=\"question\" :userInfo=\"userInfo\" v-if=\"hackReset\" ></Question>\r\n\t\t<view class=\"comments\">\r\n\t\t\t<Comment \r\n\t\t\tv-for=\"(item,index) in comments\" \r\n\t\t\t:key=\"item.id\" \r\n\t\t\t:comment=\"item\" \r\n\t\t\t:userInfo=\"userInfo\"\r\n\t\t\t@replyUser=\"replyUser($event,item,index)\"\r\n\t\t\t@getReplay=\"getReplay($event,item)\"\r\n\t\t\t>\r\n\t\t\t</Comment>\r\n\t\t\t<view class=\"published\">\r\n\t\t\t\t<input type=\"text\" ref=\"input\" :placeholder=\"commentPlaceholder\" class=\"input\" v-model=\"content\"/>\r\n\t\t\t\t<button class=\"btn\" @tap=\"submit\">发送</button>\r\n\t\t\t</view>\r\n\t\t</view>\n\t</view>\n</template>\n\n<script>\r\n\timport Question from '../../components/questions/question'\r\n\timport Comment from '../../components/questions/comment'\r\n\timport {renderTime} from '../../static/js/common.js'\n\texport default {\r\n\t\tcomponents:{\r\n\t\t\tQuestion,\r\n\t\t\tComment\r\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tquestion:null,\r\n\t\t\t\tuserInfo:null,\r\n\t\t\t\thackReset:true,\r\n\t\t\t\tSERVER:this.development,\r\n\t\t\t\tcommentPlaceholder:'请输入评论...',\r\n\t\t\t\tcontent:'',\t\t\t\t//评论内容v-model实现双向绑定\r\n\t\t\t\tcomments:[],\t\t\t//评论\r\n\t\t\t\treplyUserComment:'',\t//评论对象\r\n\t\t\t\tisOne:false,\r\n\t\t\t\ttext:''\n\t\t\t};\n\t\t},\r\n\t\tmethods:{\r\n\t\t\t// 提交评论\r\n\t\t\tsubmit(){\r\n\t\t\t\tlet myDate = renderTime(new Date());\r\n\t\t\t\tif (this.content == \"\") {\r\n\t\t\t\t    uni.showToast({\r\n\t\t\t\t\t\ttitle:'输入内容不能为空'\r\n\t\t\t\t\t})\r\n\t\t\t\t}else{\r\n\t\t\t\t\tlet AnserquestionModelId = '';\r\n\t\t\t\t\tlet CommentsModelId = '';\r\n\t\t\t\t\tlet to_user_id = '';\r\n\t\t\t\t\tif(this.replyUserComment){\r\n\t\t\t\t\t\tto_user_id = this.replyUserComment.UsersModelId;\r\n\t\t\t\t\t\tCommentsModelId = this.replyUserComment.id;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t// 添加根评论\r\n\t\t\t\t\t\tAnserquestionModelId = this.question.id;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet comment = {\r\n\t\t\t\t\t\tAnserquestionModelId:AnserquestionModelId,\r\n\t\t\t\t\t\tCommentsModelId:CommentsModelId,\r\n\t\t\t\t\t\tto_user_id:to_user_id,\r\n\t\t\t\t\t\tlevel:this.replyUserComment.index2,\r\n\t\t\t\t\t\tdata:{\r\n\t\t\t\t\t\t\tUsersModelId:this.question.UsersModelId,\r\n\t\t\t\t\t\t\tcontent:this.content,\r\n\t\t\t\t\t\t\tdate:myDate\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.request({\r\n\t\t\t\t\t\turl:`${this.SERVER}/api/comments`,\r\n\t\t\t\t\t\tmethod:'post',\r\n\t\t\t\t\t\tdata:comment,\r\n\t\t\t\t\t\tsuccess:(res) => {\r\n\t\t\t\t\t\t\tconsole.log('添加成功返回数据',res);\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle:'评论成功'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tlet newComment = {\r\n\t\t\t\t\t\t\t\tid:res.data.data.id,\r\n\t\t\t\t\t\t\t\tcontent:this.content,\r\n\t\t\t\t\t\t\t\tdate:'刚刚',\r\n\t\t\t\t\t\t\t\tusers_model:{\r\n\t\t\t\t\t\t\t\t\ticon:this.userInfo.icon,\r\n\t\t\t\t\t\t\t\t\tusername:this.userInfo.username\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(!this.replyUserComment){\r\n\t\t\t\t\t\t\t\tnewComment.replay_models = [];\r\n\t\t\t\t\t\t\t\tthis.comments.unshift(newComment);\r\n\t\t\t\t\t\t\t\tconsole.log('comments1:',this.comments);\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tlet index = this.replyUserComment.index;\r\n\t\t\t\t\t\t\t\tlet index2 = this.replyUserComment.index2\r\n\t\t\t\t\t\t\t\tif(index2){\r\n\t\t\t\t\t\t\t\t\t// newComment.content = '回复@'+ this.replyUserComment.users_model.username + newComment.content;\r\n\t\t\t\t\t\t\t\t\tnewComment.level = 1;\r\n\t\t\t\t\t\t\t\t\tnewComment.to_user = {\r\n\t\t\t\t\t\t\t\t\t\tusername : this.replyUserComment.users_model.username\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tconsole.log(\"new\",newComment);\r\n\t\t\t\t\t\t\t\t\tthis.comments[index].children.push(newComment);\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\tif(this.replyUserComment.countShow){\r\n\t\t\t\t\t\t\t\t\t\tconsole.log('comments',this.comments);\r\n\t\t\t\t\t\t\t\t\t\tthis.comments[index].text = this.content;\r\n\t\t\t\t\t\t\t\t\t\tthis.comments[index].replay_models.length = this.comments[index].replay_models.length ?this.comments[index].replay_models.length + 1 : 1;\r\n\t\t\t\t\t\t\t\t\t\tconsole.log('回复数量：',this.comments[index].replay_models.length);\r\n\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\tthis.comments[index].children.unshift(newComment);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.content = '';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 回复用户评论\r\n\t\t\treplyUser(args,item,index){\r\n\t\t\t\targs = args.detail.__args__;\r\n\t\t\t\tthis.replyUserComment = args[0];\t//保存评论对象\r\n\t\t\t\tthis.replyUserComment.index = index;\r\n\t\t\t\tthis.replyUserComment.id = item.id;\t\r\n\t\t\t\tthis.commentPlaceholder = args[1];\t//输入框提示文本\r\n\t\t\t\tconsole.log('replyUserComment',this.replyUserComment)\r\n\t\t\t},\r\n\t\t\tgetReplay(child,item){\r\n\t\t\t\titem.children = child.detail.__args__[0];\r\n\t\t\t\tconsole.log(item,this.comments);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad:function(options){\r\n\t\t\tthis.question = JSON.parse(decodeURIComponent(options.question));\r\n\t\t\tthis.userInfo = this.question.users_model;\r\n\t\t\tconsole.log('提问详情',this.question)\r\n\t\t\tthis.request({\r\n\t\t\t\turl:`${this.SERVER}/api/comments/${this.question.id}`,\r\n\t\t\t\tmethod:'get',\r\n\t\t\t\tsuccess:(res) => {\r\n\t\t\t\t\tthis.comments = res.data.data.map(item => {\r\n\t\t\t\t\t\titem.date = renderTime(item.date)\r\n\t\t\t\t\t\treturn item;\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\tconsole.log('评论',res.data);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tthis.hackReset = false;\r\n\t\t\tthis.$nextTick(() => {\r\n\t\t\t\tthis.hackReset = true;\r\n\t\t\t})\r\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\">\r\npage{\r\n\tbackground:#F6F7F8;\r\n}\n.published{\r\n\twidth:100%;\r\n\theight:80rpx;\r\n\tposition: fixed;\r\n\tleft:0;\r\n\tbottom:0;\r\n\tbackground:#fff;\r\n\tdisplay:flex;\r\n\tjustify-content: space-around;\r\n\tpadding:15rpx 0;\r\n\tbox-sizing: border-box;\r\n\t.input{\r\n\t\twidth:580rpx;\r\n\t\theight:50rpx;\r\n\t\tborder:2rpx solid #ccc;\r\n\t\tborder-radius:10rpx;\r\n\t\tmargin-left:10rpx;\r\n\t\tpadding-left:20rpx;\r\n\t}\r\n\t.btn{\r\n\t\twidth:120rpx;\r\n\t\theight:50rpx;\r\n\t\tbackground:#41A5FD;\r\n\t\tcolor:#fff;\r\n\t\tfont-size:24rpx;\r\n\t\tline-height:50rpx;\r\n\t}\r\n}\r\n.comments{\r\n\tmargin-top:10rpx;\r\n\tbox-shadow: 2rpx 2rpx 10rpx #e3e2e2;\r\n\twidth:710rpx;\r\n\tmargin:0 auto;\r\n\tborder-radius: 20rpx;\r\n\tpadding:0 0 40rpx 10rpx;\r\n}\n</style>\n","import mod from \"-!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./questionDetail.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./questionDetail.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1610327815170\n      var cssReload = require(\"C:/Users/Administrator/Downloads/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}