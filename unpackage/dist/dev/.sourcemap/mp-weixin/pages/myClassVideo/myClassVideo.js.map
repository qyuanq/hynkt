{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/Administrator/Desktop/项目开发/project1/pages/myClassVideo/myClassVideo.vue?f7c2","webpack:///C:/Users/Administrator/Desktop/项目开发/project1/pages/myClassVideo/myClassVideo.vue?5b74","webpack:///C:/Users/Administrator/Desktop/项目开发/project1/pages/myClassVideo/myClassVideo.vue?d55f","webpack:///C:/Users/Administrator/Desktop/项目开发/project1/pages/myClassVideo/myClassVideo.vue?1a9c","uni-app:///pages/myClassVideo/myClassVideo.vue","webpack:///C:/Users/Administrator/Desktop/项目开发/project1/pages/myClassVideo/myClassVideo.vue?2200","webpack:///C:/Users/Administrator/Desktop/项目开发/project1/pages/myClassVideo/myClassVideo.vue?2e66"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,kH;AACAA,UAAU,CAACC,qBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyH;AACzH;AACgE;AACL;AACc;;;AAGzE;AACgL;AAChL,gBAAgB,uLAAU;AAC1B,EAAE,kFAAM;AACR,EAAE,uFAAM;AACR,EAAE,gGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,2FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA0qB,CAAgB,wqBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACyE9rB;AACA,MADA,kBACA;AACA;AACA,qBADA;AAEA,0BAFA;AAGA,mCAHA;AAIA,yBAJA;AAKA,mBALA,EAKA;AACA,qBANA,EAMA;AACA,sBAPA,EAOA;AACA,qBARA,EAQA;AACA,qBATA,EASA;AACA,qBAVA,EAUA;AACA,gBAXA,EAWA;AACA,gBAZA,EAYA;AACA,sBAbA,EAaA;AACA,oBAdA,EAcA;AACA,sBAfA,EAeA;AACA,cAhBA,EAgBA;AACA,iBAjBA,CAiBA;AAjBA;AAmBA,GArBA;AAsBA;AACA,YADA,oBACA,KADA,EACA;AACA;AACA,KAHA;AAIA;AACA,eALA,uBAKA,IALA,EAKA,KALA,EAKA,GALA,EAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAnBA;AAoBA;AACA,aArBA,uBAqBA;AACA;AACA;AACA;AACA;AACA,yBADA;AAEA,yBAFA;AAGA,wBAHA;;AAKA,OAPA,MAOA;AACA;AACA;AACA,uBADA;AAEA,yBAFA;AAGA,wBAHA;;AAKA;AACA,KAtCA;AAuCA,WAvCA,qBAuCA;AACA;AACA,wBADA;;AAGA,KA3CA;AA4CA,YA5CA,sBA4CA;AACA;AACA,wDADA;;AAGA,KAhDA;AAiDA;AACA,kBAlDA,0BAkDA,KAlDA,EAkDA;AACA;AACA,KApDA;AAqDA;AACA,cAtDA,wBAsDA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAvFA;AAwFA;AACA,UAzFA,oBAyFA;AACA;AACA;AACA,KA5FA;AA6FA;AACA,aA9FA,uBA8FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OALA,MAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA/GA;AAgHA;AACA,gBAjHA,0BAiHA;AACA;AACA,qCADA;AAEA,uCAFA;AAGA,uCAHA;AAIA,6BAJA;AAKA,iCALA;AAMA,yCANA;;AAQA;AACA;AACA,+DADA;AAEA,sBAFA;AAGA,kBAHA;AAIA;AACA;AACA,SANA;;AAQA,KAnIA,EAtBA;;AA2JA;AACA;AACA;AACA,mBADA;;AAGA;AACA;AACA;AACA;AACA;AACA,4EADA;AAEA,mBAFA;AAGA;AACA;AACA;AACA;AACA;AACA,yFADA;AAEA,uBAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAHA;AAIA,eAPA,MAOA;AACA;AACA;AACA;AACA;AACA,aA7BA,MA6BA;AACA;AACA;AACA;AACA;AACA,WAvCA;;;AA0CA,OAjDA;;;AAoDA,GAxNA;AAyNA,QAzNA,oBAyNA;AACA;AACA;AACA;AACA,GA7NA;AA8NA,UA9NA,sBA8NA;AACA;AACA;AACA;AACA,GAlOA,E;;;;;;;;;;;;;ACzEA;AAAA;AAAA;AAAA;AAAmuC,CAAgB,0pCAAG,EAAC,C;;;;;;;;;;;ACAvvC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/myClassVideo/myClassVideo.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/myClassVideo/myClassVideo.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./myClassVideo.vue?vue&type=template&id=6b795c66&\"\nvar renderjs\nimport script from \"./myClassVideo.vue?vue&type=script&lang=js&\"\nexport * from \"./myClassVideo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./myClassVideo.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/myClassVideo/myClassVideo.vue\"\nexport default component.exports","export * from \"-!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./myClassVideo.vue?vue&type=template&id=6b795c66&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./myClassVideo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./myClassVideo.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"container\">\n\t\t<view class=\"course\">\r\n\t\t\t<view class=\"video\" v-if=\"videoShow\">\r\n\t\t\t\t<video \r\n\t\t\t\tv-if=\"videoPath\" \r\n\t\t\t\t:src=\"videoPath\" \r\n\t\t\t\tenable-auto-rotation=\"true\" \r\n\t\t\t\tautoplay=\"true\" \r\n\t\t\t\tcontrols \r\n\t\t\t\t@ended=\"videoEnded\"\r\n\t\t\t\t@timeupdate=\"setCurrentTime\"\r\n\t\t\t\t:initial-time=\"current\"></video>\r\n\t\t\t</view>\r\n\t\t\t<view v-else class=\"videoEnd\">\r\n\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t<view class=\"text\">该视频已完成</view>\r\n\t\t\t\t\t<view class=\"btns\">\r\n\t\t\t\t\t\t<button class=\"btn\" @tap=\"replay\"><van-icon class=\"iconfont\" class-prefix=\"my-icon\" name=\"chongbo\" />重学一遍</button>\r\n\t\t\t\t\t\t<button class=\"btn\" @tap=\"nextVideo\" v-if=\"btnShow\">观看下一节<van-icon class=\"iconfont\" class-prefix=\"my-icon\" name=\"xiayijie\" /></button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"info\">\r\n\t\t\t\t<view class=\"title\">{{title}}</view>\r\n\t\t\t\t<view class=\"nav\">\r\n\t\t\t\t\t<view class=\"looked\"><text class=\"text\">已看 {{proCount}}</text></view>\r\n\t\t\t\t\t<view :class=\"[collect_state ? 'collect-check' : '','collect']\" @tap=\"onCollect\" >\r\n\t\t\t\t\t\t<icon class=\"iconfont my-icon-shoucang\"></icon>\r\n\t\t\t\t\t\t收藏\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"cache\" @tap=\"onCache\">\r\n\t\t\t\t\t\t<icon class=\"iconfont my-icon-huancun\"></icon>\r\n\t\t\t\t\t\t缓存\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"answer\" @tap=\"onAnswer\">\r\n\t\t\t\t\t\t<icon class=\"iconfont my-icon-dayi\"></icon>\r\n\t\t\t\t\t\t答疑\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"learn-box\">\r\n\t\t\t<view class=\"catalog\">目录</view>\r\n\t\t\t<view class=\"learn-list\">\r\n\t\t\t\t<van-collapse :value=\"activeNames\" @change=\"onChange\">\r\n\t\t\t\t  <van-collapse-item \r\n\t\t\t\t\t  v-for=\"(item,index) in goodVideos.content\" \r\n\t\t\t\t\t  :title=\"item.section\" \r\n\t\t\t\t\t  :value=\"(arrs[index].progress ? arrs[index].progress : 0) + '/' + item.value.length\" \r\n\t\t\t\t\t  :name=\"index + 1\"\r\n\t\t\t\t\t  :key=\"item.section\"\r\n\t\t\t\t\t  :title-class=\"sec_selected===index ? 'active' : ' '\"\r\n\t\t\t\t\t  :value-class=\"sec_selected===index ? 'active' : ' '\"\r\n\t\t\t\t\t  >\r\n\t\t\t\t    <view \r\n\t\t\t\t\t\tclass=\"cell\"\r\n\t\t\t\t\t\tv-for=\"(video,idx) in item.value\" \r\n\t\t\t\t\t\t:key=\"video.id\"\r\n\t\t\t\t\t\t@tap=\"changeVideo(video.path,index,idx)\"\r\n\t\t\t\t\t\t:class=\"vid_selected === idx && sec_selected===index ? 'active' : ' '\">\r\n\t\t\t\t\t\t<icon class=\"iconfont my-icon-video\"></icon>\r\n\t\t\t\t\t\t{{idx+1 + '. ' + video.name}}\r\n\t\t\t\t\t\t<icon class=\"iconfont my-icon-xiazai\"></icon>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t  </van-collapse-item>\r\n\t\t\t\t</van-collapse>\r\n\t\t\t</view>\r\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n\texport default {\n\t\tdata() {\n\t\t\treturn {\r\n\t\t\t\tactiveNames:[],\r\n\t\t\t\tcollect_state:false,\r\n\t\t\t\tdevelopment:this.development,\r\n\t\t\t\tSERVER:this.server,\r\n\t\t\t\tbtnShow:true,\t\t//按钮是否显示\r\n\t\t\t\tvideoShow:true,\t\t//video是否显示\r\n\t\t\t\tgoodVideos:null,\t//当前课程全部视频\r\n\t\t\t\tvideoPath:null,\t\t//视频地址\r\n\t\t\t\tsec_selected:0,\t\t//章节索引\r\n\t\t\t\tvid_selected:0,\t\t//视频索引\r\n\t\t\t\tcurrent:1,\t\t\t//视频从什么播放位置开始播放\r\n\t\t\t\ttitle:' ' ,\t\t\t//面包屑标题\r\n\t\t\t\tvideoStorage:[],\t//课程观看记录\r\n\t\t\t\tcourceId:null,\t\t//课程id\r\n\t\t\t\tmycourceId:null,\t//我的课程id\r\n\t\t\t\tarrs:[], \t\t\t//存储视频进度数组\r\n\t\t\t\tproCount:0\t\t\t//观看总数\n\t\t\t};\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tonChange(event){\r\n\t\t\t\tthis.activeNames = event.detail;\r\n\t\t\t},\r\n\t\t\t// 切换视频\r\n\t\t\tchangeVideo(path,index,idx){\r\n\t\t\t\tthis.videoPath = path;\r\n\t\t\t\t// 切换视频，从0播放\r\n\t\t\t\tthis.current = 0;\r\n\t\t\t\t// 章节文本选中样式\r\n\t\t\t\tthis.sec_selected = index;\r\n\t\t\t\t// 视频文本选中样式\r\n\t\t\t\tthis.vid_selected = idx;\r\n\t\t\t\t// 面包屑标题\r\n\t\t\t\tthis.title = `${this.goodVideos.content[this.sec_selected].section} > ${this.goodVideos.content[this.sec_selected].value[this.vid_selected].name}`\r\n\t\t\t\t// 缓存标题首页其他页调用\r\n\t\t\t\tuni.setStorageSync('vid_title',this.title);\r\n\t\t\t\tthis.videoShow = true;\r\n\t\t\t\tconsole.log(this.sec_selected,this.vid_selected,this.title);\r\n\t\t\t},\r\n\t\t\t// 收藏\r\n\t\t\tonCollect(){\r\n\t\t\t\t// this.collect_state  为true 说明已收藏\r\n\t\t\t\tif(this.collect_state){\r\n\t\t\t\t\tthis.collect_state = !this.collect_state;\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:'取消收藏成功',\r\n\t\t\t\t\t\ticon:'success',\r\n\t\t\t\t\t\tduration:2000\r\n\t\t\t\t\t})\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.collect_state = !this.collect_state;\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:'收藏成功',\r\n\t\t\t\t\t\ticon:'success',\r\n\t\t\t\t\t\tduration:2000\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonCache(){\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:'./collect'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tonAnswer(){\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:`./videoQuestion?id=${this.courceId}`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 记录视频播放位置\r\n\t\t\tsetCurrentTime(event){\r\n\t\t\t\tthis.current = Math.floor(event.detail.currentTime);\r\n\t\t\t},\r\n\t\t\t// 视频播完了\r\n\t\t\tvideoEnded(){\r\n\t\t\t\tconsole.log('视频播完了');\r\n\t\t\t\t\r\n\t\t\t\t// 设置进度操作\r\n\t\t\t\t// id 视频id\r\n\t\t\t\tlet id = this.goodVideos.content[this.sec_selected].value[this.vid_selected].id;\r\n\t\t\t\t// 获取当前章节数组\r\n\t\t\t\tlet arr = this.arrs[this.sec_selected].proarr;\r\n\t\t\t\t//当前章节数组不存在id\r\n\t\t\t\tif(arr.indexOf(id) === -1){\r\n\t\t\t\t\t// 将id存到对应章节数组里\r\n\t\t\t\t\tarr.push(id);\r\n\t\t\t\t}\r\n\t\t\t\t// 设置进度值\r\n\t\t\t\tthis.arrs[this.sec_selected].progress = arr.length;\r\n\t\t\t\t// 设置总数\r\n\t\t\t\tlet count = 0;\r\n\t\t\t\tthis.arrs.forEach(item => {\r\n\t\t\t\t\tcount += item.progress;\r\n\t\t\t\t})\r\n\t\t\t\tthis.proCount = count;\r\n\t\t\t\tconsole.log('更新后的arrs',this.arrs);\r\n\t\t\t\t\r\n\t\t\t\t// 设置视频操作\r\n\t\t\t\tthis.videoShow = false;\r\n\t\t\t\tconst sec_length = this.goodVideos.content.length;\r\n\t\t\t\tconst vid_length = this.goodVideos.content[sec_length-1].value.length;\r\n\t\t\t\t// 是不是课程最后一节视频\r\n\t\t\t\tif(this.videoPath === this.goodVideos.content[sec_length-1].value[vid_length-1].path){\r\n\t\t\t\t\tthis.btnShow = false;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.btnShow = true;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 重播视频\r\n\t\t\treplay(){\r\n\t\t\t\tthis.videoShow = true;\r\n\t\t\t\tthis.current = 0;\r\n\t\t\t},\r\n\t\t\t// 播放下一节\r\n\t\t\tnextVideo(){\r\n\t\t\t\tthis.videoShow = true;\r\n\t\t\t\tthis.current = 0;\r\n\t\t\t\t//该视频是该章节最后一个视频\r\n\t\t\t\tif(this.vid_selected === this.goodVideos.content[this.sec_selected].value.length - 1){\r\n\t\t\t\t\t// 章节跳到下一节\r\n\t\t\t\t\tthis.sec_selected += 1;\r\n\t\t\t\t\t// 视频从0播放\r\n\t\t\t\t\tthis.vid_selected = 0;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.vid_selected += 1;\r\n\t\t\t\t}\r\n\t\t\t\t// 面包屑标题\r\n\t\t\t\tthis.title = `${this.goodVideos.content[this.sec_selected].section} > ${this.goodVideos.content[this.sec_selected].value[this.vid_selected].name}`;\r\n\t\t\t\t//视频地址\r\n\t\t\t\tthis.videoPath = this.goodVideos.content[this.sec_selected].value[this.vid_selected].path;\r\n\t\t\t\tconsole.log('跳转下一节',this.videoPath);\r\n\t\t\t},\r\n\t\t\t// 页面退出保存进度时间\r\n\t\t\tsaveProgress(){\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\tid:parseInt(this.mycourceId),\r\n\t\t\t\t\tsec_selected:this.sec_selected,\r\n\t\t\t\t\tvid_selected:this.vid_selected,\r\n\t\t\t\t\tvid_title:this.title,\r\n\t\t\t\t\tcurrentTime:this.current,\r\n\t\t\t\t\tproarr:JSON.stringify(this.arrs)\r\n\t\t\t\t}\r\n\t\t\t\t//存储进度信息\r\n\t\t\t\tthis.request({\r\n\t\t\t\t\turl:`${this.development}/api/updateProgress`,\r\n\t\t\t\t\tmethod:'post',\r\n\t\t\t\t\tdata:data,\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad: function(option){\r\n\t\t\t// 设置本页标题\r\n\t\t\tuni.setNavigationBarTitle({\r\n\t\t\t　　title:'课程目录'\r\n\t\t\t})\r\n\t\t\tthis.courceId = option.id;\r\n\t\t\tthis.mycourceId = option.mycourceId;\r\n\t\t\tconsole.log('1',this.mycourceId);\r\n\t\t\t// 获取所有视频\r\n\t\t\tthis.request({\r\n\t\t\t\turl:`${this.development}/api/goodVideos/${option.id}`,\r\n\t\t\t\tmethod:'get',\r\n\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\tthis.goodVideos = res.data.data;\r\n\t\t\t\t\tconsole.log('goodVideos',this.goodVideos);\r\n\t\t\t\t\t// 获取观看记录\r\n\t\t\t\t\tthis.request({\r\n\t\t\t\t\t\turl:`${this.development}/api/myProgress/${option.mycourceId}`,\r\n\t\t\t\t\t\tmethod:'get',\r\n\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\tconsole.log('用户进度',res);\r\n\t\t\t\t\t\t\tif(res.data.code === 0){\r\n\t\t\t\t\t\t\t\tthis.videoStorage = res.data.data;\r\n\t\t\t\t\t\t\t\t//章节索引\r\n\t\t\t\t\t\t\t\tthis.sec_selected = this.videoStorage.sec_selected;\r\n\t\t\t\t\t\t\t\t//视频索引\r\n\t\t\t\t\t\t\t\tthis.vid_selected = this.videoStorage.vid_selected;\r\n\t\t\t\t\t\t\t\t//标题\r\n\t\t\t\t\t\t\t\tthis.title = this.videoStorage.vid_title;\r\n\t\t\t\t\t\t\t\t//播放历史位置\r\n\t\t\t\t\t\t\t\tthis.current = this.videoStorage.currentTime;\r\n\t\t\t\t\t\t\t\t//视频地址\r\n\t\t\t\t\t\t\t\tthis.videoPath = this.goodVideos.content[this.sec_selected].value[this.vid_selected].path;\r\n\t\t\t\t\t\t\t\t// 展开折叠面板\r\n\t\t\t\t\t\t\t\tthis.activeNames.push(this.sec_selected + 1);\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tlet proarr = JSON.parse(this.videoStorage.proarr);\r\n\t\t\t\t\t\t\t\tconsole.log('proarr',proarr.length);\r\n\t\t\t\t\t\t\t\tif(proarr.length > 0){\r\n\t\t\t\t\t\t\t\t\t//数组：存放播放完的视频\r\n\t\t\t\t\t\t\t\t\tthis.arrs = proarr;\r\n\t\t\t\t\t\t\t\t\tthis.arrs.forEach(item => {\r\n\t\t\t\t\t\t\t\t\t\t// 设置总数\r\n\t\t\t\t\t\t\t\t\t\tthis.proCount += item.progress;\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t//初始化已播放数组\r\n\t\t\t\t\t\t\t\t\tthis.arrs = this.goodVideos.content.map(item => {return {progress:0,proarr:[]}});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t// console.log('arrs',this.arrs);\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t//视频地址\r\n\t\t\t\t\t\t\t\tthis.videoPath = this.goodVideos.content[this.sec_selected].value[this.vid_selected].path;\r\n\t\t\t\t\t\t\t\tthis.arrs = this.goodVideos.content.map(item => {return {progress:0,proarr:[]}});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\r\n\t\t},\r\n\t\tonHide(){\r\n\t\t\tconsole.log('页面隐藏啦');\r\n\t\t\t// 缓存播放进度\r\n\t\t\tthis.saveProgress();\r\n\t\t},\r\n\t\tonUnload(){\r\n\t\t\tconsole.log('页面退出啦');\r\n\t\t\t// 缓存播放进度\r\n\t\t\tthis.saveProgress();\r\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\">\r\npage{background:#c6c7c8;}\r\nvideo{height:400rpx;}\n.container{\r\n\tpadding-top:565rpx;\r\n\t.course{\r\n\t\tposition:fixed;\r\n\t\ttop:0;\r\n\t\tleft:0;\r\n\t\twidth:100%;\r\n\t\tz-index:999;\r\n\t\t.video{\r\n\t\t\twidth:100%;\r\n\t\t\theight:400rpx;\r\n\t\t\tposition:relative;\r\n\t\t\timage{\r\n\t\t\t\twidth:100%;\r\n\t\t\t\theight:100%;\r\n\t\t\t}\r\n\t\t\t.btn-play{\r\n\t\t\t\twidth:80px;\r\n\t\t\t\theight:80px;\r\n\t\t\t\tposition:absolute;\r\n\t\t\t\ttop:50%;\r\n\t\t\t\tleft:50%;\r\n\t\t\t\ttransform:translate(-50%,-50%);\r\n\t\t\t}\r\n\t\t\tvideo{width:100%;}\r\n\t\t}\r\n\t\t.videoEnd{\r\n\t\t\twidth:100%;\r\n\t\t\theight:400rpx;\r\n\t\t\tbackground:#000;\r\n\t\t\tposition: relative;\r\n\t\t\t.content{\r\n\t\t\t\twidth:500rpx;\r\n\t\t\t\theight:100rpx;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\ttop:50%;\r\n\t\t\t\tleft:50%;\r\n\t\t\t\ttransform:translate(-50%,-50%);\r\n\t\t\t\t.text{\r\n\t\t\t\t\tcolor:#fff;\r\n\t\t\t\t}\r\n\t\t\t\t.btns{\r\n\t\t\t\t\twidth:500rpx;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t\t.btn{\r\n\t\t\t\t\t\twidth:240rpx;\r\n\t\t\t\t\t\theight:50rpx;\r\n\t\t\t\t\t\tmargin-top:30rpx;\r\n\t\t\t\t\t\tline-height:50rpx;\r\n\t\t\t\t\t\ttext-align:center;\r\n\t\t\t\t\t\tfont-size:14px;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t.info{\r\n\t\t\theight:115rpx;\r\n\t\t\tbackground:#fff;\r\n\t\t\tpadding:20rpx 30rpx 30rpx 30rpx;\r\n\t\t\t.title{\r\n\t\t\t\theight:60rpx;\r\n\t\t\t\tfont-weight:600;\r\n\t\t\t\tline-height:1.6;\r\n\t\t\t\tfont-size:24rpx;\r\n\t\t\t}\r\n\t\t\t.nav{\r\n\t\t\t\tdisplay:flex;\r\n\t\t\t\tjustify-content: space-around;\r\n\t\t\t\tfont-size:22rpx;\r\n\t\t\t\t.iconfont{\r\n\t\t\t\t\tfont-size:22rpx;\r\n\t\t\t\t}\r\n\t\t\t\t.looked{\r\n\t\t\t\t\twidth:66rpx;\r\n\t\t\t\t\tposition: relative;\r\n\t\t\t\t\t.text{\r\n\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\tleft:0;\r\n\t\t\t\t\t\tbottom:0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t.collect-check{\r\n\t\t\t\t\tcolor:rgb(255,102,0);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t.learn-box{\r\n\t\t.catalog{\r\n\t\t\theight:80rpx;\r\n\t\t\tline-height:80rpx;\r\n\t\t\tbackground:#fff;\r\n\t\t\tborder-bottom:1px solid #ccc;\r\n\t\t\tpadding-left:30rpx;\r\n\t\t}\r\n\t\t.learn-list{\r\n\t\t\t.cell{\r\n\t\t\t\theight:60rpx;\r\n\t\t\t\tline-height:60rpx;\r\n\t\t\t\tvertical-align: middle;\r\n\t\t\t\tfont-size:24rpx;\r\n\t\t\t\tcolor:#333;\r\n\t\t\t\tmargin-top:10rpx;\r\n\t\t\t\t.iconfont{margin-right:10rpx;font-size:24rpx;}\r\n\t\t\t\t.my-icon-video{color:#41a5fd;}\r\n\t\t\t\t.my-icon-xiazai{float:right;color:#41a5fd;font-size:28rpx;zindex:999;}\r\n\t\t\t}\r\n\t\t\t.active{\r\n\t\t\t\tcolor:#FF6600;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\n</style>\n","import mod from \"-!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./myClassVideo.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./myClassVideo.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1619150343781\n      var cssReload = require(\"C:/Users/Administrator/Downloads/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}